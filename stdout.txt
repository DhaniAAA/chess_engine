Transposition table: 16 MB, 524288 clusters, 1572864 entries
===================================
  Chess Engine Test Suite
===================================

=== Testing Bitboards ===

Knight attacks from E4:
+---+---+---+---+---+---+---+---+
| . | . | . | . | . | . | . | . | 8
+---+---+---+---+---+---+---+---+
| . | . | . | . | . | . | . | . | 7
+---+---+---+---+---+---+---+---+
| . | . | . | X | . | X | . | . | 6
+---+---+---+---+---+---+---+---+
| . | . | X | . | . | . | X | . | 5
+---+---+---+---+---+---+---+---+
| . | . | . | . | . | . | . | . | 4
+---+---+---+---+---+---+---+---+
| . | . | X | . | . | . | X | . | 3
+---+---+---+---+---+---+---+---+
| . | . | . | X | . | X | . | . | 2
+---+---+---+---+---+---+---+---+
| . | . | . | . | . | . | . | . | 1
+---+---+---+---+---+---+---+---+
  a   b   c   d   e   f   g   h
Popcount of knight attacks: 8

=== Testing Magic Bitboards ===

Rook attacks from E4 with blockers:
+---+---+---+---+---+---+---+---+
| . | . | . | . | . | . | . | . | 8
+---+---+---+---+---+---+---+---+
| . | . | . | . | X | . | . | . | 7
+---+---+---+---+---+---+---+---+
| . | . | . | . | X | . | . | . | 6
+---+---+---+---+---+---+---+---+
| . | . | . | . | X | . | . | . | 5
+---+---+---+---+---+---+---+---+
| . | X | X | X | . | X | X | X | 4
+---+---+---+---+---+---+---+---+
| . | . | . | . | X | . | . | . | 3
+---+---+---+---+---+---+---+---+
| . | . | . | . | X | . | . | . | 2
+---+---+---+---+---+---+---+---+
| . | . | . | . | X | . | . | . | 1
+---+---+---+---+---+---+---+---+
  a   b   c   d   e   f   g   h
=== Testing Move Generation ===

Starting position - pseudo-legal moves: 20
Legal moves: 20
First 10 moves: a2a3 b2b3 c2c3 d2d3 e2e3 f2f3 g2g3 h2h3 a2a4 b2b4 

Position with en passant:

 +---+---+---+---+---+---+---+---+
 | r | n | b | q | k | b | n | r | 8
 +---+---+---+---+---+---+---+---+
 | p | p | p |   | p | p | p | p | 7
 +---+---+---+---+---+---+---+---+
 |   |   |   |   |   |   |   |   | 6
 +---+---+---+---+---+---+---+---+
 |   |   |   | p | P |   |   |   | 5
 +---+---+---+---+---+---+---+---+
 |   |   |   |   |   |   |   |   | 4
 +---+---+---+---+---+---+---+---+
 |   |   |   |   |   |   |   |   | 3
 +---+---+---+---+---+---+---+---+
 | P | P | P | P |   | P | P | P | 2
 +---+---+---+---+---+---+---+---+
 | R | N | B | Q | K | B | N | R | 1
 +---+---+---+---+---+---+---+---+
   a   b   c   d   e   f   g   h

FEN: rnbqkbnr/ppp1pppp/8/3pP3/8/8/PPPP1PPP/RNBQKBNR w KQkq d6 0 3
Key: 6693572458bcfe05
White to move
En passant move found: e5d6

=== Testing Transposition Table ===

Initial probe - found: no
After save - found: yes
  Score: 50
  Depth: 6
  Move: e2e4
  Bound: EXACT

=== Testing Static Exchange Evaluation ===


 +---+---+---+---+---+---+---+---+
 | r |   |   |   | k |   |   | r | 8
 +---+---+---+---+---+---+---+---+
 | p |   | p | p | q | p | b |   | 7
 +---+---+---+---+---+---+---+---+
 | b | n |   |   | p | n | p |   | 6
 +---+---+---+---+---+---+---+---+
 |   |   |   | P | N |   |   |   | 5
 +---+---+---+---+---+---+---+---+
 |   | p |   |   | P |   |   |   | 4
 +---+---+---+---+---+---+---+---+
 |   |   | N |   |   | Q |   | p | 3
 +---+---+---+---+---+---+---+---+
 | P | P | P | B | B | P | P | P | 2
 +---+---+---+---+---+---+---+---+
 | R |   |   |   | K |   |   | R | 1
 +---+---+---+---+---+---+---+---+
   a   b   c   d   e   f   g   h

FEN: r3k2r/p1ppqpb1/bn2pnp1/3PN3/1p2P3/2N2Q1p/PPPBBPPP/R3K2R w KQkq - 0 1
Key: 742d6f1e33fb417
White to move
SEE for Nxd7: -220 (expected ~330 for bishop)
SEE for dxe6: 0 (captures pawn)

=== Testing Move Ordering ===

Moves in priority order (first 10):
  1. b1c3
  2. g1f3
  3. c2c3
  4. d2d3
  5. e2e3
  6. f2f3
  7. g2g3
  8. h2h3
  9. a2a4
  10. b2b4

=== Testing Evaluation ===

Starting position eval: 0 cp
White missing a knight: -239 cp (expected ~-320)
Sicilian position: 25 cp

=== Perft Test (Move Generation Verification) ===

Starting position perft:
Depth 1: 20 ✓ (0 ms)
Depth 2: 400 ✓ (0 ms)
Depth 3: 8902 ✓ (10 ms)
Depth 4: 197281 ✓ (326 ms)
Depth 5: 4865641 ✗ (expected 4865609) (8566 ms)

Kiwipete position perft:
Depth 1: 48 ✓ (0 ms)
Depth 2: 2039 ✓ (4 ms)
Depth 3: 97901 ✗ (expected 97862) (196 ms)
Depth 4: 4087916 ✗ (expected 4085603) (9660 ms)

En passant position: 31 legal moves

=== Testing Search ===

Searching starting position to depth 6...

info depth 1 seldepth 1 score cp 88 nodes 21 nps 21000 time 1 hashfull 0 pv e2e4
info depth 2 seldepth 2 score cp 0 nodes 129 nps 64500 time 2 hashfull 0 pv e2e4 e7e5
info depth 3 seldepth 3 score cp 82 nodes 325 nps 46428 time 7 hashfull 0 pv e2e4 e7e5 b1c3
info depth 4 seldepth 4 score cp 0 nodes 980 nps 51578 time 19 hashfull 0 pv e2e4 e7e5 b1c3 b8c6
info depth 5 seldepth 6 score cp 67 nodes 2341 nps 57097 time 41 hashfull 0 pv g1f3 g8f6 b1c3 d7d5 d2d4 b8c6
info depth 6 seldepth 8 score cp 8 nodes 8482 nps 40583 time 209 hashfull 1 pv b1c3 d7d5 e2e4 g8f6 e4d5 f6d5

Search complete!
Best move: b1c3
Nodes: 8482
Time: 211 ms
NPS: 40009

Scholar's Mate position:

 +---+---+---+---+---+---+---+---+
 | r |   | b | q | k | b |   | r | 8
 +---+---+---+---+---+---+---+---+
 | p | p | p | p |   | p | p | p | 7
 +---+---+---+---+---+---+---+---+
 |   |   | n |   |   | n |   |   | 6
 +---+---+---+---+---+---+---+---+
 |   |   |   |   | p |   |   | Q | 5
 +---+---+---+---+---+---+---+---+
 |   |   | B |   | P |   |   |   | 4
 +---+---+---+---+---+---+---+---+
 |   |   |   |   |   |   |   |   | 3
 +---+---+---+---+---+---+---+---+
 | P | P | P | P |   | P | P | P | 2
 +---+---+---+---+---+---+---+---+
 | R | N | B |   | K |   | N | R | 1
 +---+---+---+---+---+---+---+---+
   a   b   c   d   e   f   g   h

FEN: r1bqkb1r/pppp1ppp/2n2n2/4p2Q/2B1P3/8/PPPP1PPP/RNB1K1NR w KQkq - 4 4
Key: 9ce3e162e4fa9992
White to move
Searching for mate...

info depth 1 seldepth 8 score mate 4 nodes 4 nps 4000 time 1 hashfull 0 pv b1c3 d7d5 e2e4 g8f6 e4d5 f6d5
info depth 2 seldepth 8 score mate 4 nodes 6 nps 6000 time 1 hashfull 0 pv b1c3 d7d5 e2e4 g8f6 e4d5 f6d5
info depth 3 seldepth 8 score mate 4 nodes 8 nps 8000 time 1 hashfull 0 pv b1c3 d7d5 e2e4 g8f6 e4d5 f6d5
info depth 4 seldepth 8 score mate 4 nodes 10 nps 10000 time 1 hashfull 0 pv b1c3 d7d5 e2e4 g8f6 e4d5 f6d5
